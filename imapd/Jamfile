# declare directory, so we can build here
SubDir TOP imapd ;
# pull in the directories we need
SubInclude TOP imapd handlers ;
SubInclude TOP lib ;
# declare our own, for the benefit of the rules below
SubDir TOP imapd ;

# all that we need to build

Build imap : imapd.cpp connection.cpp listener.cpp loop.cpp imap.cpp 
	command.cpp cccp.cpp ;

# the programs. these need to be last. magic. all Program calls need
# to be after all Build calls, since the Build puts object files into
# the sets used by Build.

Program imapd : imap lib ;

LINKLIBS on imapd = -lz ;
