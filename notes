Fix startup and shutdown (and log disasters to stderr)

we need an install script that generates a config file

must clean up the logging stuff

  Mostly done now. I need to do another quick sweep to ensure that the
  various Logs are created in the right context. Furthermore, the Loop
  should not be calling commit() for every Connection; and they should
  each set their Log/Arena correctly in their Scope.

schema diagram with sujai

move tests to another program

resource limits on memory allocation

How does .PEEK work?

the injector must share bodyparts

EXPUNGE is horribly broken

inject a large number of messages, collect query statistics

test with more imap clients (corp/docs/misc/mua-list)
make sure mailutil works with us

tlsproxy doesn't handle eof (or errors) well

make sure ocd works

the gui should do something

configuration overhaul

archives.oryx.com

top-level message/rfc822 support

rfc2047 encoding

tls client support (smtp, postgresql)

What to do about EventHandlers whose targets have died?

garbage collection (~/imapd.valgrind)

Small cleanups:

  * get rid of Blah::setup wherever possible
  * member-ify some of the static functions in message
  * get rid of some friends
